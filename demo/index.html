<!DOCTYPE html>
<html>
<head>

<script type="module">

import {load} from '../cjs-loader.js';

load('./foo.js').then((foo) => {
  console.info('got foo in Promise', foo);
});
load('./base64.js').then((base64) => {
  console.info('got base64 in Promise', base64);
});
load('handlebars').then((handlebars) => {
  console.info('handlebars', handlebars);
  const Handlebars = handlebars.create();

  // nb. from example code on http://handlebarsjs.com/

  var source = "<p>Hello, my name is {{name}}. I am from {{hometown}}. I have " +
               "{{kids.length}} kids:</p>" +
               "<ul>{{#kids}}<li>{{name}} is {{age}}</li>{{/kids}}</ul>";
  var template = Handlebars.compile(source);
 
  var data = { "name": "Alan", "hometown": "Somewhere, TX",
               "kids": [{"name": "Jimmy", "age": "12"}, {"name": "Sally", "age": "4"}]};
  var result = template(data);

  console.info(result);
});

</script>

</head>
<body>

<p id="decoded">Check console for demo.</p>

<pre id="encoded"></pre>

</body>
</html>
